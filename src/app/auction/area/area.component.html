<app-header></app-header>
<div class="content">
  <div class="categories">
    <p-listbox [options]="categories" (onChange)="changeCategory()" [(ngModel)]="selectedCategory"></p-listbox>
    <div class="filters" *ngIf="selectedCategory && lots && lots.length > 20">
      Фильтры
      <button (click)="sortByName()" pButton label="По имени"></button>
      <button pButton (click)="sortByDate()" label="По дате"></button>
      <button pButton (click)="sortByPrice()" label="По цене"></button>
    </div>
  </div>
  <div class="area__auction">
    <ul>
      <li *ngFor="let lot of lots">
        <div class="card">
          <p class="name">{{lot.name}}</p>
          <img [src]="'data:image/jpg;base64,'+ lot.picture" (click)="thingDetails(lot)" width="200" height="250">
          <p>Начальная цена: {{lot.minPrice}}</p>
        </div>
      </li>
    </ul>
    <div *ngIf="selectedCategory">
      <button pButton style="float:left" icon="pi pi-step-backward" (click)="goToPreviousPage()" label="Предыдущая страница"></button>
      <button pButton icon="pi pi-step-forward" style="float: right" [disabled]="lots && lots.length !== 24" (click)="goToNextPage()" label="Следующая страница"></button>
    </div>
    <div class="bttn_random_lot">
      <button pButton icon="pi pi-question" (click)="thingDetailRandom()" label="Перейти к случайному лоту"></button>
    </div>
  </div>
</div>
